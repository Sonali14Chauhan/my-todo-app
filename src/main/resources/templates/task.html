<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Todo Application</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>
<body>

<div class="container text-center mt-5">
    <h1>TODO Application</h1>

    <!-- Add New Task -->
    <form action="/addtodo" method="post" class="mb-4 d-flex justify-content-center">
        <input type="text" name="taskContent" placeholder="Write your task" class="form-control w-50 me-2">
        <button type="submit" class="btn btn-primary">Add TODO</button>
    </form>

    <!-- List All Tasks -->
    <ul class="list-group">
        <li class="list-group-item" th:each="todo : ${ListofTodo}">
            <form th:action="@{/updatetodo/{id}(id=${todo.id})}" method="post" class="d-flex align-items-center justify-content-between">
                <input type="text" th:value="${todo.taskContent}" name="taskContent" class="form-control me-2">
                <input type="checkbox" th:checked="${todo.completionStatus}" name="completionStatus" onchange="this.form.submit()" class="form-check-input me-2">
                <button type="submit" class="btn btn-warning me-2">Update</button>
                <a th:href="@{/deletetodo/{id}(id=${todo.id})}" class="btn btn-danger">Delete</a>
            </form>
        </li>
    </ul>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>

</body>
</html>
